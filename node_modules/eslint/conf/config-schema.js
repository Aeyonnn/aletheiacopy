<<<<<<< HEAD
=======
/*
 * STOP!!! DO NOT MODIFY.
 *
 * This file is part of the ongoing work to move the eslintrc-style config
 * system into the @eslint/eslintrc package. This file needs to remain
 * unchanged in order for this work to proceed.
 *
 * If you think you need to change this file, please contact @nzakas first.
 *
 * Thanks in advance for your cooperation.
 */

>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
/**
 * @fileoverview Defines a schema for configs.
 * @author Sylvan Mably
 */

"use strict";

const baseConfigProperties = {
<<<<<<< HEAD
    env: { type: "object" },
    globals: { type: "object" },
    parser: { type: ["string", "null"] },
    parserOptions: { type: "object" },
    plugins: { type: "array" },
    rules: { type: "object" },
    settings: { type: "object" },
=======
    $schema: { type: "string" },
    env: { type: "object" },
    extends: { $ref: "#/definitions/stringOrStrings" },
    globals: { type: "object" },
    overrides: {
        type: "array",
        items: { $ref: "#/definitions/overrideConfig" },
        additionalItems: false
    },
    parser: { type: ["string", "null"] },
    parserOptions: { type: "object" },
    plugins: { type: "array" },
    processor: { type: "string" },
    rules: { type: "object" },
    settings: { type: "object" },
    noInlineConfig: { type: "boolean" },
    reportUnusedDisableDirectives: { type: "boolean" },
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0

    ecmaFeatures: { type: "object" } // deprecated; logs a warning when used
};

<<<<<<< HEAD
const overrideProperties = Object.assign(
    {},
    baseConfigProperties,
    {
        files: {
=======
const configSchema = {
    definitions: {
        stringOrStrings: {
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
            oneOf: [
                { type: "string" },
                {
                    type: "array",
                    items: { type: "string" },
<<<<<<< HEAD
                    minItems: 1
                }
            ]
        },
        excludedFiles: {
=======
                    additionalItems: false
                }
            ]
        },
        stringOrStringsRequired: {
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
            oneOf: [
                { type: "string" },
                {
                    type: "array",
<<<<<<< HEAD
                    items: { type: "string" }
                }
            ]
        }
    }
);

const topLevelConfigProperties = Object.assign(
    {},
    baseConfigProperties,
    {
        extends: { type: ["string", "array"] },
        root: { type: "boolean" },
        overrides: {
            type: "array",
            items: {
                type: "object",
                properties: overrideProperties,
                required: ["files"],
                additionalProperties: false
            }
        }
    }
);

const configSchema = {
    type: "object",
    properties: topLevelConfigProperties,
    additionalProperties: false
=======
                    items: { type: "string" },
                    additionalItems: false,
                    minItems: 1
                }
            ]
        },

        // Config at top-level.
        objectConfig: {
            type: "object",
            properties: {
                root: { type: "boolean" },
                ignorePatterns: { $ref: "#/definitions/stringOrStrings" },
                ...baseConfigProperties
            },
            additionalProperties: false
        },

        // Config in `overrides`.
        overrideConfig: {
            type: "object",
            properties: {
                excludedFiles: { $ref: "#/definitions/stringOrStrings" },
                files: { $ref: "#/definitions/stringOrStringsRequired" },
                ...baseConfigProperties
            },
            required: ["files"],
            additionalProperties: false
        }
    },

    $ref: "#/definitions/objectConfig"
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
};

module.exports = configSchema;
