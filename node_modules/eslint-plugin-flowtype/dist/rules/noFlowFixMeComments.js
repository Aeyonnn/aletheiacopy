<<<<<<< HEAD
'use strict';
=======
"use strict";
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0

Object.defineProperty(exports, "__esModule", {
  value: true
});
<<<<<<< HEAD
var schema = [{
  type: 'string'
}];

var message = '$FlowFixMe is treated as `any` and should be fixed.';

var isIdentifier = function isIdentifier(node, name) {
  return node && node.type === 'Identifier' && node.name.match(name);
};

var create = function create(context) {
  var allowedPattern = context.options[0] ? new RegExp(context.options[0]) : null;
  var extraMessage = allowedPattern ? ' Fix it or match `' + allowedPattern.toString() + '`.' : '';

  var passesExtraRegex = function passesExtraRegex(value) {
=======
exports.default = void 0;
const schema = [{
  type: 'string'
}];
const message = '$FlowFixMe is treated as `any` and must be fixed.';

const isIdentifier = function (node, name) {
  return node && node.type === 'Identifier' && node.name.match(name);
};

const create = context => {
  const allowedPattern = context.options[0] ? new RegExp(context.options[0], 'u') : null;
  const extraMessage = allowedPattern ? ' Fix it or match `' + allowedPattern.toString() + '`.' : '';

  const passesExtraRegex = function (value) {
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
    if (!allowedPattern) {
      return false;
    }

    return value.match(allowedPattern);
  };

<<<<<<< HEAD
  var handleComment = function handleComment(comment) {
    var value = comment.value.trim();

    if (value.match(/\$FlowFixMe/) && !passesExtraRegex(value)) {
      context.report(comment, message + extraMessage);
=======
  const handleComment = function (comment) {
    const value = comment.value.trim();

    if (/\$FlowFixMe/u.test(value) && !passesExtraRegex(value)) {
      context.report({
        message: message + extraMessage,
        node: comment
      });
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
    }
  };

  return {
    GenericTypeAnnotation(node) {
<<<<<<< HEAD
      if (isIdentifier(node.id, /\$FlowFixMe/)) {
=======
      if (isIdentifier(node.id, /\$FlowFixMe/u)) {
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
        context.report({
          message,
          node: node.id
        });
      }
    },

    Program() {
<<<<<<< HEAD
      context.getSourceCode().getAllComments().filter(function (comment) {
        return comment.type === 'Block' || comment.type === 'Line';
      }).forEach(handleComment);
    }
  };
};

exports.default = {
  create,
  schema
};
module.exports = exports['default'];
=======
      for (const comment of context.getSourceCode().getAllComments().filter(node => {
        return node.type === 'Block' || node.type === 'Line';
      })) {
        handleComment(comment);
      }
    }

  };
};

var _default = {
  create,
  schema
};
exports.default = _default;
module.exports = exports.default;
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
