<<<<<<< HEAD
=======
'use strict';
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
/*
 Copyright 2012-2015, Yahoo Inc.
 Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
<<<<<<< HEAD
var path = require('path');

module.exports = {
    create: function (name, cfg) {
        cfg = cfg || {};
        var Cons = require(path.join(__dirname, 'lib', name));
        return new Cons(cfg);
    }
};






=======
const path = require('path');

module.exports = {
    create(name, cfg) {
        cfg = cfg || {};
        let Cons;
        try {
            Cons = require(path.join(__dirname, 'lib', name));
        } catch (e) {
            if (e.code !== 'MODULE_NOT_FOUND') {
                throw e;
            }

            Cons = require(name);
        }

        return new Cons(cfg);
    }
};
>>>>>>> d9d57759386cbc64761f26a577729c9da898f4b0
